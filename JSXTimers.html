<!DOCTYPE html>
<html>
<head>
  <title>JSX Demo Timer</title>
  <meta charset="utf-8" />
</head>
<body>
  <div id="root"></div>

  <script src="react/react.js"></script>
  <script src="react/react-dom.js"></script>
  <script src="react/babel.js"></script>
  <script type="text/babel">

    function Counter({name, start, speed}) {
      const [counter, setCounter] = React.useState(start);
      const [spd, setSpd] = React.useState(speed);
      const [nm, setNm] = React.useState(name);
      React.useEffect(() => {
        const tickTock = () => {
          setCounter((value) => value + 1);
        }
        function updateSpeed(val){
          setSpd(parseInt(val))
        }
        const timer = setInterval(tickTock, spd);
        return () => {
        clearInterval(timer);
        };
      }, []);  // [] tells it to only run once
	    
      return (
	      <main>
	        <p>{nm}: {counter}</p>
		      <button onClick={() => setCounter(parseInt(prompt("New time: ")))}>
	        Set Timer
          </button>
          <button onClick={() => updateSpeed(prompt("New Speed:"))}>
	        Set Timer Speed
          </button>
          <button onClick={() => setNm(prompt("New name:"))}>
	        Set Timer Name
          </button>
	      </main>
      );
    }//end function counter

    function App() {
      return (
        <div>
          <Counter name="Counter1" start={0} speed={20}/>
          <Counter name="Counter2" start={0} speed={1000}/>
          <Counter name="Counter3" start={-64} speed={1000}/>
        </div>
      );
    }

    ReactDOM.render(
	    <React.StrictMode>
            <App />
	    </React.StrictMode>,
	document.getElementById("root")
    );

  </script>
</body>
</html>
